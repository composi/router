(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.Router={})})(this,function(a){'use strict';function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}a.Router=function(){var a,e=[],f={},g=function(){function a(c,d){b(this,a),this.name=d,this.path=c,this.keys=[],this.fns=[],this.params={},this.pathToRegexp=function(a,b,c,d){return a instanceof RegExp?a:(a instanceof Array&&(a="("+a.join("|")+")"),a=a.concat(d?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(a,c,d,e,f,g){return b.push({name:e,optional:!!g}),c=c||"",""+(g?"":c)+"(?:"+(g?c:"")+(d||"")+(f||d&&"([^/.]+?)"||"([^/]+?)")+")"+(g||"")}).replace(/([/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+a+"$",c?"":"i"))},this.regex=this.pathToRegexp(this.path,this.keys,!1,!1)}return d(a,[{key:"addHandler",value:function(a){this.fns.push(a)}},{key:"removeHandler",value:function(a){for(var b,d=0,e=this.fns.length;d<e;d++)if(b=this.fns[d],a==b)return void this.fns.splice(d,1)}},{key:"run",value:function(a){for(var b=0,d=this.fns.length;b<d;b++)if(!1===this.fns[b].apply(this,a))return!1;return!0}},{key:"match",value:function(a,b){var c=this.regex.exec(a);if(!c)return!1;for(var d=1,e=c.length;d<e;++d){var f=this.keys[d-1],g="string"==typeof c[d]?decodeURIComponent(c[d]):c[d];f&&(this.params[f.name]=g),b.push(g)}return!0}}]),a}(),h=function a(){for(var b=function(a,b){f[a]||(f[a]=new g(a,name),e.push(f[a])),f[a].addHandler(b)},c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];d.map(function(a){b(a.path,a.action)}),a.reload()};h.remove=function(a,b){var c=f[a];c&&(b?c.removeHandler(b):delete f[a])},h.removeAll=function(){f={},e=[],a=""},h.navigate=function(a){window.location.hash=a};var j=function(){return window.location.hash.substring(1)},k=function(a,b){var c=[];return b.match(a,c)?!1===b.run(c)?0:1:-1},l=h.reload=function(){for(var b=j(),d=0,f=e.length;d<f;d++){var c=e[d],g=k(b,c);if(1===g){a=b;break}else if(0===g){h.navigate(a);break}}};return window.addEventListener("hashchange",l,!1),a=j(),window.router=h,h},Object.defineProperty(a,"__esModule",{value:!0})});
//# sourceMappingURL=router.js.map
